> ä¸€ä¸ªæ¹˜å¤§æ ¡å›­è‡ªåŠ¨æ‰“å¡çš„ç¨‹åºã€‚æ€è·¯æ˜¯å¾ˆæ˜ç¡®çš„ï¼Œå› ä¸ºæ¹˜å¤§æ ¡å›­å¥åº·æ‰“å¡çš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªè¡¨å•çš„æäº¤ï¼Œè¿™ä¸ªè¡¨å•æ•°æ®åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„äº¤äº’æ–¹å¼å¿…ç„¶æ˜¯é€šè¿‡`HTTP`ã€‚é‚£ä¹ˆæˆ‘çš„æ€è·¯æ˜¯ï¼Œé€šè¿‡`python`é‡Œé¢çˆ¬è™«ç›¸å…³çš„åº“æ¥æ¨¡æ‹Ÿè¿™ä¸ªäº¤äº’è¿‡ç¨‹ã€‚è¿˜æœ‰ä¸€ç§æ€è·¯æ˜¯ä½¿ç”¨ç‚¹å‡»ç²¾çµæˆ–è€…æ˜¯`autojs`æ¥æ¨¡æ‹Ÿç‚¹å‡»ã€‚

å®ç°è‡ªåŠ¨æ‰“å¡ï¼Œå¤§è‡´åˆ†ä¸ºå¦‚ä¸‹å‡ æ­¥ï¼š

1. æŠ“åŒ…ã€‚è¿™ä¸€æ­¥è·å–æ¥å£åœ°å€ã€é‰´æƒæ–¹å¼ã€å‚æ•°ç­‰ã€‚ğŸ˜ƒå¦‚æœè¿™ä¸ªæ‰“å¡æ˜¯ä¸€ä¸ªç½‘é¡µå¤šå¥½ï¼Œç›´æ¥`F12`æŠ“åŒ…èˆ’æœå¾—ä¸€æ‰¹ã€‚è¯•äº†`Burp`ã€`Fiddler`ç­‰æŠ“åŒ…å·¥å…·ï¼Œéƒ½æ²¡æœ‰ç”¨......
2. ç¼–å†™å‡½æ•°æ¨¡æ‹Ÿè¯·æ±‚
3. å®šæœŸæ‰§è¡Œç¬¬äºŒæ­¥ç¼–å†™çš„å‡½æ•°
   1. äº‘å‡½æ•°å®ç°
   2. `linux`å®šæ—¶æœåŠ¡å®ç°

## æŠ“åŒ…

é¦–å…ˆï¼Œä½ éœ€è¦å®‰è£…ä¸€ä¸ªå°é»„é¸Ÿè½¯ä»¶ã€‚

[ç™¾åº¦ç½‘ç›˜ä¸‹è½½](https://pan.baidu.com/s/1Ov-OltymG1_pToNPOh9EuQ?pwd=t7f6)

æ‰“å¼€å®‰è£…å¥½çš„è½¯ä»¶ï¼Œç‚¹å‡»å³ä¸‹è§’é‚£ä¸ªè“è‰²çš„ä¸œä¸œï¼Œå®‰è£…ä¸€ä¸‹CAè¯ä¹¦ã€‚ï¼ˆå‡ºç°çš„ä¸€åˆ‡å¼¹æ¡†éƒ½é€‰ç¡®å®šå°±è¡Œäº†ï¼‰

![image-20221001032555617](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20221001032555617.png)

è¿™ä¸ªæ—¶å€™ï¼Œé€€å‡ºé»„è‰²çš„è¿™ä¸ªè½¯ä»¶ï¼Œæ‰“å¼€æ¹˜å¤§æ ¡å›­ï¼Œè¿›å…¥å¦‚ä¸‹é¡µé¢ï¼Œè¿™ä¸ªæ—¶å€™å…ˆä¸æäº¤ï¼ˆä¸€å®šè¦å…ˆæ‰“å¼€æ¹˜å¤§æ ¡å›­ï¼Œä¸ç„¶ä¼šè¢«æ£€æµ‹æŠ“åŒ…ï¼Œç›´æ¥è¿›ä¸å»è½¯ä»¶ï¼‰

![image-20221001032754815](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20221001032754815.png)

ç„¶åå›åˆ°é»„è‰²çš„è½¯ä»¶ï¼Œç‚¹å‡»è“è‰²çš„æŒ‰é’®ï¼Œå¼€å§‹æŠ“åŒ…ï¼ˆåŒæ ·ï¼Œæ‰€æœ‰çš„å¼¹æ¡†éƒ½é€‰æ‹©ç¡®å®šï¼‰

![image-20221001032845177](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20221001032845177.png)

è¿›å…¥æ¹˜å¤§æ ¡å›­ï¼Œæäº¤å¥åº·æ‰“å¡ã€‚ç„¶åï¼Œåˆå›åˆ°å°é»„é¸Ÿï¼Œæ­¤æ—¶ï¼ŒæŠ“åŒ…å·²ç»å®Œæˆäº†ã€‚æ‰¾åˆ°ä¸‹å›¾è¿™ä¸€æ¡æ•°æ®ï¼Œç‚¹å‡»è¿›å»ã€‚ç°åœ¨éœ€è¦æ‹¿åˆ°ä¸¤ä¸ªæ•°æ®ï¼Œä¸€ä¸ªæ˜¯cookieï¼Œè¿™ä¸ªè®©æœåŠ¡ç«¯çŸ¥é“ä½ æ˜¯è°ï¼Œä¸€ä¸ªæ˜¯è¡¨å•æ•°æ®çš„jsonï¼Œè¿™ä¸¤ä¸ªéƒ½è¦å¤åˆ¶ä¸‹æ¥ï¼Œæ›¿æ¢åˆ°åé¢çš„ä»£ç ä¸­ã€‚

![image-20221001033053328](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20221001033053328.png)

ç¬¬ä¸€æ­¥ï¼Œå¤åˆ¶cookie

![image-20221001033306899](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20221001033306899.png)

ç¬¬äºŒæ­¥ï¼Œå¤åˆ¶json

![image-20221001033342931](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20221001033342931.png)

## ä»£ç 

```python
from email import header
import requests
import json

def autoClockin():
    headers = {
        'Host': 'app.xiaoyuan.ccb.com',
        'Connection': 'keep-alive',
        'Content-Length': '1185',
        'Accept': 'application/json, text/plain, */*',
        'User-Agent': 'Mozilla/5.0 (Linux; Android 10; YAL-AL10 Build/HUAWEIYAL-AL10; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/86.0.4240.185 Mobile Safari/537.36jianronghuixue/1.2.2',
        'Content-Type': 'application/json;charset=UTF-8',
        'Origin': 'https://app.xiaoyuan.ccb.com',
        'X-Requested-With': 'com.ccb.xiangdaxiaoyuan',
        'Sec-Fetch-Site': 'same-origin',
        'Sec-Fetch-Mode': 'cors',
        'Sec-Fetch-Dest': 'empty',
        'Referer': 'https://app.xiaoyuan.ccb.com/LHECRESM/DZK/index2020110601.html',
        'Accept-Encoding': 'gzip, deflate',
        'Accept-Language': 'zh-CN,zh;q=0.9,en-CN;q=0.8,en-US;q=0.7,en;q=0.6',
        'Cookie': 'IN047=47001|YxgSs; IN031=31002|YymhM; sid=6055cf31-34f4-4887-89cd-8782b74aff9a; tgw_l7_route=d73149ab3f086e8d0cf04b5f79c1bd9e; IN001=1006|Yzc5O; IN010=10003|Yzc5O' #ç”¨ä½ å¤åˆ¶çš„cookieï¼Œæ›¿æ¢æ‰å†’å·åé¢çš„å†…å®¹
    }
    #ç”¨ä½ å¤åˆ¶çš„jsonï¼Œæ›¿æ¢æ‰=åé¢çš„å†…å®¹
    data = {
        "stuClass": "9999",
        "schoolId": "10530",
        "schoolName": "æ¹˜æ½­å¤§å­¦",
        "stId": "202005710517",
        "userId": "A3231002159826522854162504",
        "stName": "ç‹çŸ³é‘«",
        "locationAddr": "æ¹–å—çœæ¹˜æ½­å¸‚é›¨æ¹–åŒº",
        "id": "E9E2C53F48539674E0539349FD0A3028",
        "departments": "",
        "isContact": "N",
        "isFever": "0",
        "isWuhan": "N",
        "nowArea": "æ¹–å—çœæ¹˜æ½­å¸‚é›¨æ¹–åŒº",
        "familyaddress": "æ¹˜æ½­å¤§å­¦",
        "familyStatus": "0",
        "diagnosisTreatment": "",
        "nowStatus": "0",
        "healthStatus": "3",
        "isLevel": "N",
        "isbackLive": "N",
        "trafficTool": "",
        "backTrafficTool": "",
        "levelDate": "",
        "backtime": "",
        "arriveAddr": "",
        "trafficNo": "",
        "backTrafficNo": "",
        "professional": "",
        "personType": "",
        "personCategory": None,
        "temperature": 36.9,
        "remarks": None,
        "timeToLeaveHuBei": "",
        "dateOfDisengagement": "",
        "otherSymptoms": "",
        "nowStatusStartTime": "",
        "familyStatusStartTime": "",
        "feverStartTime": "",
        "coughStartTime": "",
        "fatigueStartTime": "",
        "diarrheaStartTime": "",
        "coldStartTime": "",
        "headacheStartTime": "",
        "noseStartTime": "",
        "runnyStartTime": "",
        "throatStartTime": "",
        "conjunctivaStartTime": "",
        "isAppearDiagnosis": "N",
        "isVaccinate": "1",
        "vaccineType": "2",
        "injectTimes": "3",
        "otherDesc": None,
        "isContactWithDiagnosis": "N",
        "isInSchool": "",
        "stMobile": "17377966179"
    }

    url = 'https://app.xiaoyuan.ccb.com/channelManage/outbreak/addOutbreak'
    res = requests.post(url=url, headers=headers, data=json.dumps(data))
    print(res.json())


autoClockin()
```

## äº‘å‡½æ•°æˆ–è€…å®šæ—¶ä»»åŠ¡

1. è…¾è®¯äº‘æœ‰å¯¹pythonäº‘å‡½æ•°çš„æ”¯æŒï¼Œç™¾åº¦ä¸€ä¸‹å°±èƒ½æ‰¾åˆ°æ•™ç¨‹
2. æˆ‘ç”¨çš„æ˜¯centoså‘è¡Œç‰ˆlinuxï¼Œæ‰€ä»¥å¯ä»¥ç”¨crontabåšå®šæ—¶ä»»åŠ¡

[äº‘å‡½æ•°](https://blog.csdn.net/python_kele/article/details/119698462)

[å®šæ—¶ä»»åŠ¡](https://www.cnblogs.com/yangjisen/p/13171918.html)